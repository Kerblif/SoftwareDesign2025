# Отчет по домашнему заданию №2

## Реализованный функционал

В рамках данного проекта был реализован следующий функционал:

1. **Добавление/удаление животного**
   - Реализовано в классе `AnimalController` (метод `CreateAnimal` и `DeleteAnimal`)
   - Используется доменная модель `Animal` и сервис `AnimalTransferService`

2. **Добавление/удаление вольера**
   - Реализовано в классе `EnclosureController` (не показан в обзоре)
   - Используется доменная модель `Enclosure`

3. **Перемещение животного между вольерами**
   - Реализовано в классе `AnimalTransferService` (метод `TransferAnimal`)
   - Используется в `AnimalController` (метод `TransferAnimal`)
   - При перемещении генерируется доменное событие `AnimalMovedEvent`

4. **Просмотр расписания кормления**
   - Реализовано в классе `FeedingScheduleController` (не показан в обзоре)
   - Используется доменная модель `FeedingSchedule` и сервис `FeedingOrganizationService`

5. **Добавление нового кормления в расписание**
   - Реализовано в классе `FeedingOrganizationService` (метод `CreateFeedingSchedule`)
   - Используется в `FeedingScheduleController`

6. **Просмотр статистики зоопарка**
   - Реализовано в классе `ZooStatisticsService` (метод `GetZooStatistics`)
   - Предоставляет информацию о количестве животных, свободных вольерах и т.д.

## Применение концепций Domain-Driven Design

1. **Богатые доменные модели**
   - `Animal` - содержит бизнес-логику для кормления, лечения и перемещения животных
   - `Enclosure` - содержит бизнес-логику для добавления/удаления животных и уборки вольера
   - `FeedingSchedule` - содержит бизнес-логику для изменения расписания и отметки о выполнении

2. **Value Objects**
   - `Species` - вид животного
   - `AnimalName` - имя животного
   - `BirthDate` - дата рождения
   - `EnclosureSize` - размер вольера
   - `Capacity` - вместимость вольера
   - `FeedingTime` - время кормления
   - Перечисления: `Gender`, `HealthStatus`, `EnclosureType`, `FoodType`

3. **Доменные события**
   - `AnimalMovedEvent` - событие перемещения животного
   - `FeedingTimeEvent` - событие наступления времени кормления

4. **Репозитории**
   - Интерфейсы: `AnimalRepository`, `EnclosureRepository`, `FeedingScheduleRepository`
   - Реализации: `InMemoryAnimalRepository`, `InMemoryEnclosureRepository`, `InMemoryFeedingScheduleRepository`

5. **Инкапсуляция бизнес-правил**
   - Валидация в конструкторах доменных моделей и value objects
   - Бизнес-правила в методах доменных моделей (например, нельзя кормить больное животное)

## Применение принципов Clean Architecture

1. **Разделение на слои**
   - **Domain** (`pkg/zoo/domain`) - содержит доменные модели, value objects, события и интерфейсы репозиториев
   - **Application** (`pkg/zoo/application`) - содержит сервисы, реализующие бизнес-логику
   - **Infrastructure** (`pkg/zoo/infrastructure`) - содержит реализации репозиториев
   - **Presentation** (`pkg/zoo/presentation`) - содержит контроллеры для веб-интерфейса

2. **Зависимости направлены внутрь**
   - Доменный слой не зависит ни от чего
   - Слой приложения зависит только от доменного слоя
   - Инфраструктурный слой зависит от доменного слоя (реализует интерфейсы репозиториев)
   - Слой представления зависит от слоя приложения и доменного слоя

3. **Зависимости через интерфейсы**
   - Сервисы в слое приложения зависят от интерфейсов репозиториев, а не от конкретных реализаций
   - Контроллеры в слое представления зависят от сервисов и интерфейсов репозиториев

4. **Изоляция бизнес-логики**
   - Бизнес-логика полностью изолирована в доменном и прикладном слоях
   - Инфраструктурный слой отвечает только за хранение данных
   - Слой представления отвечает только за взаимодействие с пользователем

## Заключение

Проект полностью соответствует требованиям задания. Реализованы все требуемые функциональности с соблюдением принципов Domain-Driven Design и Clean Architecture. Доменные модели богаты бизнес-логикой, используются value objects для примитивов, бизнес-правила инкапсулированы внутри доменных объектов. Архитектура проекта разделена на четыре слоя, зависимости направлены внутрь, взаимодействие между слоями происходит через интерфейсы, а бизнес-логика изолирована в доменном и прикладном слоях.